import{u as a,b as e,a as c,g as n,j as s,N as t,c as i}from"./index-05e6b3e9.js";const r="_item_1cogu_3",g="_avatar_1cogu_5",l="_userInfo_1cogu_18",o="_name_1cogu_23",_="_gender_1cogu_32",d="_labels_1cogu_38",m="_label_1cogu_38",h="_content_1cogu_54",u="_p20_1cogu_62",v="_btnContainer_1cogu_66",x="_confrimBtn_1cogu_75",f="_nextBtn_1cogu_87",j="_w100_1cogu_93";function p(){const p=a(),N=e(),b=new URLSearchParams(N.search),w=b.get("edit");let $=b.get("id");const[k,I]=c("agentData",{characters:[]});return k.nickname||async function(){if(!$)return;const a=await n({agentId:$});a&&a.agent?I(a.agent):p("/")}(),s.jsxs(s.Fragment,{children:[s.jsx(t,{isBack:!0}),s.jsx("main",{className:1==w?u:"",children:s.jsxs("div",{className:r,children:[s.jsx("img",{src:k.avatar||"https://img.cacheserv.com/web/webai/avatar-default.png",alt:"avatar",className:g}),s.jsxs("div",{className:l,children:[s.jsxs("div",{className:`${o} fl-center`,children:[k.nickname,s.jsx("img",{src:k.gender?"https://img.cacheserv.com/web/webai/male-icon.png":"https://img.cacheserv.com/web/webai/famale-icon.png",className:_})]}),s.jsx("div",{className:d,children:k.characters.map((a=>s.jsx("div",{className:`${m} fl-center`,children:a},a)))}),s.jsx("div",{className:h,children:k.persona})]})]})}),s.jsxs("div",{className:`${v} fl-center`,children:[1==w&&s.jsx("div",{className:`${x} fl-center ${f}`,onClick:()=>p(-1),children:"上一步"}),s.jsx("div",{className:`${x} fl-center ${1==w?"":j}`,onClick:async function(){if(w){const a={nickname:k.nickname,avatar:k.avatar,characters:characters,persona:k.persona,gender:"M"==k.gender,greeting:k.greeting,voice:"",agentId:""},{agent:e}=await i({agent:a});loading.hide(),e&&e.agentId&&($=e.agentId,I(e))}p(`/conversationDetail/${$}`)},children:"与TA聊天"})]})]})}export{p as default};
